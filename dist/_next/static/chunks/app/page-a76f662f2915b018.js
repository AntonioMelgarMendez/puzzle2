(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6901:function(e,t,l){Promise.resolve().then(l.bind(l,8913))},8913:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return n}});var r=l(3827),o=l(4090),s=l(703),a=e=>{let{imageUrl:t}=e,[l,s]=(0,o.useState)([]),[a,c]=(0,o.useState)(null),[n,i]=(0,o.useState)(!1),d=(0,o.useRef)(null),u=(e,t,l,r,o)=>{let s=document.createElement("canvas"),a=s.getContext("2d");return s.width=r,s.height=o,a.drawImage(e,t,l,r,o,0,0,r,o),s.toDataURL()},m=()=>l.every((e,t)=>e.row===Math.floor(t/4)&&e.col===t%4),h=e=>{if(null===a)c(e);else{let t=[...l],r={...t[e]};t[e]={...t[a]},t[a]=r,t.forEach((e,t)=>{e.row=Math.floor(t/4),e.col=t%4}),s(t),c(null),console.log("Coordenadas actuales despu\xe9s de la interacci\xf3n:",t.map(e=>({row:e.row,col:e.col})))}};return(0,o.useEffect)(()=>{let e=async()=>{let e=new Image;e.src=t,await e.decode();let l=e.width/4,r=e.height/3,o=[];d.current=u(e,0,0,e.width,e.height);for(let t=0;t<3;t++)for(let s=0;s<4;s++){let a=u(e,s*l,t*r,l,r);o.push({index:4*t+s,imageSrc:a,originalPosition:{row:t,col:s},row:t,col:s})}o.sort(()=>Math.random()-.5),s(o)};t&&e()},[t]),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen bg-white",children:[(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2 p-6 bg-gray-100 rounded-md shadow-md relative overflow-hidden max-w-3xl mx-auto cursor-pointer",children:l.map((e,t)=>(0,r.jsx)("div",{className:"hover:scale-120 ".concat(a===t?"border-4 border-blue-500":""),onClick:()=>h(t),children:(0,r.jsx)("img",{src:e.imageSrc,alt:"Puzzle Piece ".concat(t)})},t))}),(0,r.jsxs)("div",{className:"flex flex-row items-center mt-4",children:[(0,r.jsx)("div",{className:"".concat(n?"text-green-500":"bg-blue-500 text-white"," py-4 px-6 rounded cursor-pointer hover:scale-120 font-bold ml-2 mr-2"),onClick:()=>{let e=l.map(e=>({row:e.row+1,col:e.col+1})),t=l.map(e=>e.originalPosition);console.log("Coordenadas actuales:",e),console.log("Coordenadas correctas:",t),i(m())},children:n?"\xa1Puzzle resuelto!":"Set"}),(0,r.jsx)("div",{className:"bg-blue-500 text-white py-4 px-4 rounded cursor-pointer ml-2 mr-2  hover:scale-120 font-bold",onClick:()=>window.location.reload(),children:"Refresh"})]})]})},c=e=>{let{onImageSelected:t}=e,[l,a]=(0,o.useState)(null);return(0,r.jsx)("div",{className:"flex items-center justify-center h-screen bg-white",children:(0,r.jsxs)("div",{className:"max-w-md w-full p-6 bg-gray-100 rounded-md shadow-md text-center mt-10",children:[(0,r.jsx)("div",{className:"mb-4 flex items-center justify-center",children:(0,r.jsx)(s.default,{src:"/icon.png",width:60,height:60})}),(0,r.jsx)("label",{className:"block text-xl mb-4",children:"Create your puzzle "}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let l=e.target.files[0];if(l){let e=URL.createObjectURL(l);a(e),t(e)}},className:"border p-4 mb-4 hidden",id:"fileInput"}),(0,r.jsx)("label",{htmlFor:"fileInput",className:"p-2 rounded-md cursor-pointer hover:underline hover:text-blue-500",children:"Upload Image"}),l&&(0,r.jsx)("div",{className:"flex items-center justify-center mt-4",children:(0,r.jsx)("img",{src:l,alt:"Imagen seleccionada",className:"w-full h-auto max-h-64"})})]})})};function n(){let[e,t]=(0,o.useState)(null);return(0,r.jsx)("div",{children:e?(0,r.jsx)(a,{imageUrl:e}):(0,r.jsx)(c,{onImageSelected:e=>{t(e)}})})}}},function(e){e.O(0,[703,971,69,744],function(){return e(e.s=6901)}),_N_E=e.O()}]);